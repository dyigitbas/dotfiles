# yaml-language-server: $schema=https://aka.ms/configuration-dsc-schema/0.2
properties:
  configurationVersion: 0.2.0
  ########################################
  ### ASSERTIONS: System Requirements
  ########################################
  assertions:
    ### Assertion: OS Version
    ### -------------------------------------
    - resource: Microsoft.Windows.Developer/OsVersion
      id: OsVersion
      directives:
        description: Minimum OS version requirement
        allowPrerelease: true
      settings:
        MinVersion: "10.0.22000"
  ########################################
  ### RESOURCES: System Configuration
  ########################################
  resources:
    ########################################
    ### Initialization
    ########################################
    ### Install Git
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      id: git
      directives:
        description: Install Git
        allowPrerelease: true
      settings:
        id: Git.Git
    ### Enable: Developer Mode
    ### -------------------------------------
    - resource: Microsoft.Windows.Developer/DeveloperMode
      directives:
        description: Enable Developer Mode
        allowPrerelease: true
      settings:
        Ensure: Present
     ### Show file extensions and hidden files
     ### -------------------------------------
    - resource: Microsoft.Windows.Developer/WindowsExplorer
      directives:
        description: Show File Extensions and hidden files
        allowPrerelease: true
      settings:
        FileExtensions: Show
        HiddenFiles: Show
    ########################################
    ### Install CLIs, SDKs & Tools
    ########################################
    ### Install DevHome
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      id: DevHome
      directives:
        description: Install DevHome
        allowPrerelease: true
      settings:
        id: Microsoft.DevHome
    ### Install DevHome Azure Extension
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      dependsOn:
        - DevHome
      directives:
        description: Install DevHome Azure Extension
        allowPrerelease: true
      settings:
        id: 9MV8F79FGXTR
    ### Install DevHome GitHub Extension
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      dependsOn:
        - DevHome
      directives:
        description: Install DevHome GitHub Extension
        allowPrerelease: true
      settings:
        id: 9NZCC27PR6N6
    ### Install Powershell
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Powershell
        allowPrerelease: true
      settings:
        id: Microsoft.PowerShell
    ### Install Azure CLI
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      id: azurecli
      directives:
        description: Install Azure CLI
        allowPrerelease: true
      settings:
       id:  Microsoft.AzureCLI
    ### Install Azd
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Azd
        allowPrerelease: true
      settings:
        id: Microsoft.Azd
    ### Install Visual Studio Code
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      id: vscode
      directives:
        description: Install Microsoft Visual Studio Code
        allowPrerelease: true
      settings:
        id: Microsoft.VisualStudioCode
        ensure: Present
    ### Install Visual Sudio
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      id: vside
      directives:
       description: Install Visual Studio 2022
       allowPrerelease: true
      settings:
        id: Microsoft.VisualStudio.2022.Community.Preview
    ### Install Google Chrome
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Google Chrome
        allowPrerelease: true
      settings:
        id: Google.Chrome
    ### Install Microsoft PowerToys
    ### -------------------------------------
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Microsoft PowerToys
        allowPrerelease: true
      settings:
        id: Microsoft.PowerToys
    ########################################
    ### Configure settings
    ########################################
    ### Git Configure Name
    ### -------------------------------------
    - resource: GitDsc/GitConfigUserName
      directives:
        description: Configure Git
        allowPrerelease: true
      dependsOn:
        - git
      settings:
         UserName: "dyigitbas"
         ConfigLocation: "Global"
    ### Git Configure Email
    ### -------------------------------------
    - resource: GitDsc/GitConfigUserEmail
      directives:
        description: Configure Git
        allowPrerelease: true
      dependsOn:
        - git
      settings:
         UserEmail: "89029269+dyigitbas@users.noreply.github.com"
         ConfigLocation: "Global"
    ### Install VS Code Extensions
    ### -------------------------------------
    - resource: PSDscResources/Script
      id: vscodeextensions
      dependsOn:
        - vscode
      directives:
        description: Install Python Extension for VS Code
      settings:
        SetScript: |
          $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User") 
          code --install-extension github.copilot
          code --install-extension devcenter.ms-devbox
          code --install-extension ms-vscode.powershell
          code --install-extension ms-dotnettools.csdevkit
          code --install-extension ms-azuretools.azure-dev
        GetScript: return $false
        TestScript: return $false

    ########################################
    ### Denizhan Custom
    ########################################
    
    ### PowerToys Key Remappings
    ### -------------------------------------
    - resource: Microsoft.PowerToys.KeyboardManager/Remappings
      directives:
        description: Custom key remappings
        allowPrerelease: true
      settings:
        remappings:
          - original: Win (Left)
            remapped: Ctrl (Left)
          - original: Alt (Left)
            remapped: Ctrl (Left)
          - original: Ctrl (Left)
            remapped: Win (Left)
        shortcutRemappings:
          - original: [Ctrl (Left), Tab]
            remapped: [Win (Left), Shift (Left), Right]
          - original: [Ctrl (Left), Space]
            remapped: [Ctrl (Left), ]]
          - original: [Ctrl (Left), H]
            remapped: [Alt (Left), Esc]
          - original: [Ctrl (Left), Shift (Left), S]
            remapped: [Win (Left), Shift (Left), S]
          - original: [Ctrl (Left), Shift (Left), Space]
            remapped: [Ctrl (Left), Tab]
    
    ### Taskbar Customization
    ### -------------------------------------
    - resource: Microsoft.Windows.Desktop/Taskbar
      directives:
        description: Customize taskbar icons
        allowPrerelease: true
      settings:
        pinnedApps:
          - appId: Microsoft.Windows.Explorer
          - appId: Microsoft.MSEdge
          - appId: Microsoft.Teams
          - appId: Microsoft.Office.OUTLOOK
        unpinAll: true
